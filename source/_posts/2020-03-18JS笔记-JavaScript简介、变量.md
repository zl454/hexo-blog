---
title: JavaScript简介、变量
tags: JavaScript基础
categories: JavaScript
data: 2020-03-18
---

# JavaScript简介

## JavaScript的组成

JavaScript基础分为三个部分：

- ECMAScript：JavaScript的语法标准。包括变量、表达式、运算符、函数、if语句、for语句等。
- **DOM**：Document Object Model（文档对象模型），操作**页面上的元素**的API。比如让盒子移动、变色、改变大小、轮播图等等。
- **BOM**：Browser Object Model（浏览器对象模型），操作**浏览器部分功能**的API。通过BOM可以操作浏览器窗口，比如弹框、控制浏览器跳转、获取浏览器分辨率等等。

## JavaScript 的特点

### 特点1：解释型语言

JavaScript 是解释型语言，不需要事先被翻译为机器码；而是边翻译边执行（翻译一行，执行一行）。

什么是「解释型语言」？详见下一段。

> 由于少了实现编译这一步骤，所以解释型语言开发起来尤为方便，但是解释型语言运行较慢也是它的劣势。不过解释型语言中使用了JIT技术，使得运行速度得以改善。

### 特点2：单线程

### 特点3：ECMAScript标准

ECMAScript是一种由 ECMA 国际（前身为欧洲计算机制造商协会,英文名称是European Computer Manufacturers Association）制定和发布的脚本语言规范。

JavaScript是由公司开发而成的，问题是不便于其他的公司拓展和使用。所以欧洲的这个ECMA的组织，牵头制定JavaScript的标准，取名为ECMAScript。

简单来说，**ECMAScript不是一门语言，而是一个标准**。ECMAScript 规定了JS的编程语法和基础核心知识，是所有浏览器厂商共同遵守的一套JS语法工业标准。

ECMAScript在2015年6月，发布了ECMAScript 6版本（ES6），语言的能力更强（也包含了很多新特性）。但是，浏览器的厂商不会那么快去追上这个标准，需要时间。

## JS一些简单的语法规则

（1）JavaScript对换行、缩进、空格不敏感。每一条语句以分号结尾。

（2）所有的符号，都是英语的。比如**括号**、引号、分号。

（3）严格区分大小写。

## JavaScript 的注释

单行注释：

```javascript
// 我是注释
```

多行注释：

```javascript
/*
	多行注释1
	多行注释2
*/
```

补充：VS Code中，单行注释的快捷键是「Ctrl + /」，多行注释的默认快捷键是「Alt + Shift + A」。

## Javascript 输入输出语句

### 弹出警告框：alert语句

### 控制台输出：console.log("")

`console.log("")`表示在控制台中输出。console表示“控制台”，log表示“输出”。

```javascript
console.log(a); //打印变量a的值
console.log(typeof a); // 输出变量 a 的类型
```

### 弹出输入框：prompt()语句

JS代码如下：

```javascript
var a = prompt("请随便输入点什么东西吧");
console.log(a);
```

上方代码中，用户输入的内容，将被传递到变量 a 里面，并在控制台打印出来。

**prompt()语句中，用户不管输入什么内容，都是字符串。**

**alert()和prompt()的区别：**

- alert() 可以直接使用。
- prompt() 会返回用户输入的内容。我们可以用一个变量，来接收用户输入的内容。

# 变量

## 字面量：数字和字符串

“字面量”即**常量**，是固定值，不可改变。看见什么，它就是什么。

字面量有3种：

- 数字

- 字符串

- 布尔字面量

（1）数值的字面量非常简单，写上去就行了，不需要任何的符号。例如：

```javascript
alert(886);  //886是数字，所以不需要加引号。
```

（2）字符串的字面量也很简单，但一定要加上引号。可以是单词、句子等。例如：

```javascript
console.log('886');
console.log('天将降大任于斯人也');
```

温馨提示：100是数字，"100"是字符串。

（3）布尔字面量举例：

```javascript
if (true) {
	console.log('如果为真，就走这里面的代码);
}
```

**总结**

字面量都可以直接使用，但是我们一般不会直接使用字面量。

如果直接使用字面量的话，比较麻烦。比如说，多个地方要用到同一个字面量，还不如事先定义一个变量，用来保存字面量。

变量更方便我们使用，所以在开发中都是通过变量去保存一个字面量，而不会直接使用字面量。

## 变量的概念

**变量**：是用于存放数据的容器。我们通过「变量名」获取数据，甚至可以修改数据。

变量还可以用来保存字面量。

**本质**：变量是程序在内存中申请的一块用来存放数据的空间。

## 变量的声明和赋值

### 变量的声明（变量的定义）

在ES6语法之前，统一使用`var`关键字来声明一个变量。比如：

```javascript
var name; // 申明一个名为 name 的变量
```

补充：在ES6语法及之后，统一使用 `const`、`let`关键字来声明一个变量。

### 变量的赋值

变量的声明和赋值，举例如下：

```javascript
var a = 100; // ES5语法

const b = hello; // ES6 语法
let b = world; // ES6 语法
```

var是英语“variant”变量的缩写。后面要加一个空格，空格后面的东西就是“变量名”：

- 定义变量：var就是一个**关键字**，用来定义变量。所谓关键字，就是有特殊功能的单词。

- 变量的赋值：等号表示**赋值**，将等号右边的值，赋给左边的变量。

- 变量名：我们可以给变量任意的取名字。

PS：**在JavaScript中，永远都是用var来定义变量**（在ES6 之前），这和C、Java等语言不同。



## 变量的命名规范

- 只能由字母(A-Z、a-z)、数字(0-9)、下划线(_)、美元符( $ )组成

- 不能以数字开头。也就是说，必须以字母(A-Z、a-z)、下划线(_)或者美元符( $ )开头。变量名中不允许出现空格。


- 不用使用 JS 语言中保留的「关键字」和「保留字」作为变量名。


- 建议用驼峰命名规则。比如getElementById、matherAndFather、aaaOrBbbAndCcc
- 变量名会区分大小写(javascript 是区分大小写的语言)。
- 变量名长度不能超过255个字符。
- 汉语可以作为变量名。但是不建议使用，因为 low。

## 标识符、关键字、保留字

**标识符**：在JS中所有的可以由我们**自主命名**的都可以称之为标识符。

**关键字**：是指 JS 本身已经使用了的单词，不能再用它们充当变量、函数名等标识符。

**保留字**：实际上就是预留的“关键字”。意思是现在虽然还不是关键字，但是未来可能会成为关键字，同样不能使用它们当充当变量名、函数名等标识符。

# 变量的数据类型

## JS中一共有六种数据类型：

### 基本数据类型（值类型）

- **String 字符串**

  字符串型可以是引号中的任意文本，其语法为：双引号 `""` 或者单引号 `''`。

  ```javascript
  var a = "abcde";
  var c = "123123";
  var d = '哈哈哈哈哈';
  var e = "";     //空字符串
  
  var f = haha; // 没使用引号，到这里会直接报错。因为会被认为是js代码，但是之前并没有定义 haha。
  ```

  获取字符串的长度

  ```javascript
  var str1 = '天将降大任于斯人也！';
  var str2 = 'haha hahaha';
  
  console.log(str1.length); // 10
  console.log(str2.length); // 11
  ```

- **Number 数值**

  在JS中所有的数值都是 Number 类型，包括整数和浮点数（小数）。

- **Boolean 布尔值**

  布尔型有两个值：true 和 false。主要用来做逻辑判断： true 表示真，false 表示假。

  代码：

  ```javascript
  var a = true;
  console.log(typeof a); //打印结果：boolean
  ```

  布尔型和数字型相加时， true 按 1 来算 ，false 按 0 来算。

- **undefined 未定义**

  **声明**了一个变量，但是没有**赋值**（例如：`var a;`），此时它的值就是 `undefined`

- **unll 空值**

  专门用来表示一个为空的**对象**（例如：`var a = null`）。注意，专门用来表示**空对象**。

  1. Null类型的值只有一个，就是null。比如 `var a = null`。

  2. 使用 typeof 检查一个null值时，会返回object。

### 引用数据类型（引用类型）

​	**Object 对象类型**

​	*｛｝代表语句块（ES6增加）*

## 转义字符

在字符串中我们可以使用`\`作为转义字符，当表示一些特殊符号时可以使用`\`进行转义。

`\"` 表示 `"`

`\'` 表示 `'`

`\\` 表示`\`

`\r` 表示回车

`\n` 表示换行。n 的意思是 newline。

`\t` 表示缩进。t 的意思是 tab。

`\b` 表示空格。b 的意思是 blank。

## 变量值的传递（赋值）

语句：

```javascript
a = b;
```

把b的值赋给a，b不变。

将等号右边的值，赋给左边的变量；等号右边的变量，值不变。

## 栈内存和堆内存

JS中，所有的**变量**都是保存在**栈内存**中的。

**基本数据类型**：

基本数据类型的值，直接保存在栈内存中。值与值之间是独立存在，修改一个变量不会影响其他的变量。

**引用数据类型**：

对象是保存到**堆内存**中的。每创建一个新的对象，就会在堆内存中开辟出一个新的空间，而**变量保存了对象的内存地址**（对象的引用）。如果两个变量保存了同一个对象的引用，当一个通过一个变量修改属性时，另一个也会受到影响。

```
var a=1;
    b=2;
    c=a+b;
    console.log(c);//打印3
    b=5;
    console.log(c)//打印3
    console.log(b)//打印5
```

**堆栈溢出** 

当存储的数据达到某一限制时就会造成堆栈溢出，栈内存回自动清理，主要是**堆溢出**

**内存泄漏** 

当不断向堆中存储数据，而不进行清理，这就是内存泄漏，结果就是堆栈溢出

**垃圾回收机制**

语言中一般分为两种，一种是自动清理，一种是手动清理（gc）。js只有自动清理，

垃圾回收机制就是将引用对（栈）中地址的对象设置为null，并且将所有引用该地址的对象都设置为null

不会即时清除，垃圾回收车会根据内存的情况在适当的时候清除堆中的孤儿对象
